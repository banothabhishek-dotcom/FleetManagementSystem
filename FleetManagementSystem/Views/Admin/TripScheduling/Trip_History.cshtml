@model IEnumerable<FleetManagementSystem.Models.Trip_Scheduling>;

@{
	ViewData["Title"] = "Trip History";
}

<div>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<div class="container-fluid">
			<a class="navbar-brand" asp-controller="Admin" asp-action="AdminPage">Fleetora</a>
			<div class="collapse navbar-collapse justify-content-end">
				<ul class="navbar-nav">
					<li class="nav-item"><a class="nav-link active" asp-controller="Admin" asp-action="AdminPage">Home</a></li>
					<li class="nav-item"><a class="nav-link active" asp-controller="TripScheduling" asp-action="Trip_History">History</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="container py-5">
		<h2 class="text-center text-primary mb-4">Accepted Bookings</h2>

		<table class="table table-bordered table-striped" id="bookingTable">
			<thead class="table-dark">
				<tr>
					<th>S.No</th>
					<th>Name</th>
					<th>Phone</th>
					<th>Vehicle</th>
					<th>Driver</th>
					<th>Pickup</th>
					<th>Drop</th>
					<th>Time</th>
					<th>Status</th>
					
				</tr>
			</thead>
			<tbody>
				@{
					int serialNumber = 1;
				}

				@foreach (var entry in Model)
				{
					<tr>
						<td>@serialNumber</td>
						<td>@(entry.Firstname + " " + entry.Lastname)</td>
						<td>@entry.PhoneNumber</td>
						<td>@entry.VehicleType</td>
						<td>@entry.AssignedDriver</td>
						<td>@entry.PickupPoint</td>
						<td>@entry.DropPoint</td>
						<td>@entry.BookingTime.ToString("yyyy-MM-dd hh:mm tt")</td>
						@{
							string stat = "Accepted";
							if (!string.IsNullOrEmpty(entry.AssignedDriver) && entry.AssignedDriver == "Declined")

							{
								stat = "Declined";
							}
							else
							{
								stat = "Accepted";
							}
						}
						<td>@stat</td>
						
					</tr>
					serialNumber++;
				}
			</tbody>

		</table>
	</div>


</div>
